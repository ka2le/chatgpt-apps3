function getGrandParentElement(e){return e.parentElement.parentElement}function getCodeElement(e){return e.querySelector("code")}function decodeHtmlEntities(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function getCleanCode(e){console.log(e);var e=getGrandParentElement(e),e=(console.log(e),getCodeElement(e));if(console.log(e),e)return e=e.innerHTML,console.log(e),e=e.replace(/<span class="hljs[^"]*">|<\/span>/g,""),console.log(e),decodeHtmlEntities(e);handleNoCodeElement()}function handleNoCodeElement(){alert("No related code element found")}function checkCodeBoxType(e,t){var n=e.nextElementSibling,e=e.previousElementSibling;return!!(n&&"span"===n.tagName.toLowerCase()&&n.innerHTML.toLowerCase().includes(t)||e&&"span"===e.tagName.toLowerCase()&&e.innerHTML.toLowerCase().includes(t))}function addElement(e,t,n){t.classList.add("gpt-enhancer"),n?e.insertBefore(t,n):e.appendChild(t)}function addStyling(){document.querySelectorAll(".ability option").forEach(function(e){e.style.backgroundColor="rgb(52,53,65)"}),document.querySelectorAll(".absolute.bottom-0 > .text-center > span").forEach(function(e){e.style.display="none"})}function runJs(e){try{new Function(e)()}catch(e){alert("Failed to execute function: "+e.message)}}function downloadSVG(e){var e=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e;t.download="icon.svg",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function addObserver(r){var e=new MutationObserver(function(e,t){t.disconnect();for(var n of e)if("childList"===n.type&&0<n.addedNodes.length)for(var o=0;o<n.addedNodes.length;o++)if(n.addedNodes[o].nodeType===Node.ELEMENT_NODE&&n.addedNodes[o].classList.contains("group")&&n.addedNodes[o].classList.contains("w-full")||n.target instanceof HTMLTitleElement){for(var l=0;l<r.length;l++)r[l]();break}t.observe(document,{attributes:!1,childList:!0,subtree:!0})});return e.observe(document,{attributes:!1,childList:!0,subtree:!0}),function(){e.disconnect()}}function RunJsButton(e){return html`
    <button 
        style=${utilVars?.buttonStyle} 
        class="flex ml-auto gap-2"
        onClick=${function(){runJs(getCleanCode(e.spanElement))}}>${html([utilVars?.runIcon])}Run</button>
`}function DownloadSVGButton(e){return html`
    <button 
        style=${utilVars?.buttonStyle} 
        class="flex ml-auto gap-2"
        onClick=${function(){downloadSVG(getCleanCode(e.spanElement))}}>${html([utilVars?.downloadIcon])}Download</button>
`}function ToggleEditableButton(e){return html`
    <button 
        style=${utilVars?.buttonStyle} 
        class="flex ml-auto gap-2"
        onClick=${function(){toggleEditable(e)}}>${html([utilVars?.editIcon])}Edit</button>
`}function moveToolWindow(e){var t=document.getElementById("toolWindow");if(t){var n=document.querySelector("main > .flex-1.overflow-hidden");if(n){var o=n.querySelectorAll(".group.w-full");let e;0<o.length?e=o[o.length-1]:1===o.length&&(e=o[0]),e&&e.previousElementSibling!==t?e.parentNode.insertBefore(t,e):e||n.lastChild===t||n.appendChild(t)}}else addToolWindow(e,render,html)}function replaceWithToolBar(e){var t=document.createElement("div"),e=(render(html`<${e} />`,t),document.querySelector(".absolute.bottom-0"));e&&0<(e=e.querySelectorAll("div.text-center")).length&&((e=e[e.length-1]).innerHTML="",e.appendChild(t))}function removeElementsByClass(e,t,n){if(t)return"";for(var o=document.getElementsByClassName(e);0<o.length;)o[0].parentNode&&o[0].parentNode.removeChild(o[0]);for(var l=document.querySelectorAll("[gpt-enhancer-modified]"),r=0;r<l.length;r++)l[r].removeAttribute("gpt-enhancer-modified");n(!0)}function toggleEditable(e){var t=e.spanElement.parentElement.parentElement.querySelector("code");t.hasAttribute("contentEditable")?"true"==t.getAttribute("contentEditable")?t.setAttribute("contentEditable","false"):t.setAttribute("contentEditable","true"):(e=getCleanCode(e.spanElement),t.setAttribute("contentEditable","true"),t.setAttribute("innerHtml",e))}function addObserver(i){var e=new MutationObserver(function(e,t){let n=!1;for(var o of e)if("childList"===o.type&&0<o.addedNodes.length)for(var l=0;l<o.addedNodes.length;l++)o.addedNodes[l].nodeType===Node.ELEMENT_NODE&&o.addedNodes[l].classList.contains("result-streaming")&&(console.log("New results-streaming"),n=!0);if(n){console.log("Running CallBacks");for(var r=0;r<i.length;r++)i[r]()}});return e.observe(document,{attributes:!1,childList:!0,subtree:!0}),function(){e.disconnect()}}function addClassObserver(i){var e=document.querySelector("main");console.log("Adding class Observer with "+e.classList+"as the selected wathcer");new MutationObserver(function(e,t){let n=!1;for(var o of e){var l;"attributes"===o.type&&"class"===o.attributeName&&(l=o.target,o=o.oldValue&&o.oldValue.split(" ").includes("result-streaming"),l=l.classList.contains("result-streaming"),!o&&l?console.log('A node has gained the class "result-streaming".'):o&&!l&&(console.log('A node has lost the class "result-streaming".'),n=!0))}if(n){console.log("Running CallBacks");for(var r=0;r<i.length;r++)i[r]()}}).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}function Button(e,t,n={}){return html`
        <button class="gpt-enhancer" style="${{...utilVars.buttonStyle,...n}}" onclick=${t}>
            ${e}
        </button>
    `}function Checkbox({id:e,checked:t=!1}){return html`
        <input class="gpt-enhancer" type="checkbox" id="${e}" style="${utilVars.checkboxStyle}" ${t?"checked":""} />
    `}function InputBox(e,t=""){return html`
        <input class="gpt-enhancer" type="text" id="${e}" style="${utilVars.inputBoxStyle}" value="${t}">
    `}function TextArea({id:e,style:t="",value:n="",onChange:o,class:l=""}){return html`
        <textarea id="${e}" style="${t}" class="${l} gpt-enhancer " onInput=${o}>
            ${n}
        </textarea>
    `}function findOverlayContainerDOM(){return document.getElementById("__next")}function findToolBarContainerDOM(){var e=document.querySelector(".absolute.bottom-0");return e?childElement=e.querySelectorAll("div.text-center")[0]:null}function useComponentContainer(e,t,n){const o=useRef(null);return useEffect(()=>{o.current=(t||getDefaultContainerDOM)(),o.current&&render(html`<${e} ...${n} />`,o.current)},[n]),o}function getDefaultContainerDOM(){let e=document.getElementById("__NEXT_DATA__");return e||((e=document.createElement("div")).id="gpt-enhancer-root",document.body.appendChild(e)),e}function moveComponent(t,n){useEffect(()=>{var e=n();e&&t.current&&e.appendChild(t.current)},[t])}console.log("UTILS : 1685884937479");var utilVars={buttonStyle:{margin:"0 5px"},textareaStyle:{},dropdownStyle:{boxShadow:"initial",WebkitAppearance:"initial",appearance:"initial",backgroundColor:"initial",borderColor:"initial",borderRadius:"initial",borderWidth:"initial",fontSize:"initial",lineHeight:"initial",padding:"initial",border:"none"},checkboxStyle:{},inputBoxStyle:{},abilityStyle:{float:"left",margin:"0 4px"},overlayStyle:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgb(241,231,211)",zIndex:"9999"},popupStyle:{position:"fixed",padding:"10px",top:"calc(15vh)",left:"calc(15vw)",width:"70vw",height:"70vh",backgroundColor:"rgb(32,33,35)",border:"1px solid rgba(68,70,84,0.7)",borderRadius:"10px",zIndex:"9999"},statBlockStyle:{},downloadIcon:'<svg stroke="currentColor" fill="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 15l-8-8h16l-8 8z"/></svg>',runIcon:'<svg stroke="currentColor" fill="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 16 12 8 19 8 5"/></svg>',editIcon:'<svg fill="currentColor" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>'};