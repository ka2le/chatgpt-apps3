function getGrandParentElement(e){return e.parentElement.parentElement}function getCodeElement(e){return e.querySelector("code")}function decodeHtmlEntities(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function getCleanCode(e){console.log(e);var e=getGrandParentElement(e),e=(console.log(e),getCodeElement(e));if(console.log(e),e)return e=e.innerHTML,console.log(e),e=e.replace(/<span class="hljs[^"]*">|<\/span>/g,""),console.log(e),decodeHtmlEntities(e);handleNoCodeElement()}function handleNoCodeElement(){alert("No related code element found")}function checkCodeBoxType(e,t){var n=e.nextElementSibling,e=e.previousElementSibling;return!!(n&&"span"===n.tagName.toLowerCase()&&n.innerHTML.toLowerCase().includes(t)||e&&"span"===e.tagName.toLowerCase()&&e.innerHTML.toLowerCase().includes(t))}function addElement(e,t,n){t.classList.add("gpt-enhancer"),n?e.insertBefore(t,n):e.appendChild(t)}function addStyling(){document.querySelectorAll(".ability option").forEach(function(e){e.style.backgroundColor="rgb(52,53,65)"}),document.querySelectorAll("#overAll").forEach(function(e){e.style.color="black"})}function runJs(e){try{new Function(e)()}catch(e){alert("Failed to execute function: "+e.message)}}function downloadSVG(e){var e=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e;t.download="icon.svg",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function addObserver(r){var e=new MutationObserver(function(e,t){t.disconnect();for(var n of e)if("childList"===n.type&&0<n.addedNodes.length)for(var o=0;o<n.addedNodes.length;o++)if(n.addedNodes[o].nodeType===Node.ELEMENT_NODE&&n.addedNodes[o].classList.contains("group")&&n.addedNodes[o].classList.contains("w-full")||n.target instanceof HTMLTitleElement){for(var l=0;l<r.length;l++)r[l]();break}t.observe(document,{attributes:!1,childList:!0,subtree:!0})});return e.observe(document,{attributes:!1,childList:!0,subtree:!0}),function(){e.disconnect()}}function RunJsButton(e){return html`
    <button 
        style=${utilVars?.buttonStyle} 
        class="flex ml-auto gap-2"
        onClick=${function(){runJs(getCleanCode(e.spanElement))}}>${html([utilVars?.runIcon])}Run</button>
`}function DownloadSVGButton(e){return html`
    <button 
        style=${utilVars?.buttonStyle} 
        class="flex ml-auto gap-2"
        onClick=${function(){downloadSVG(getCleanCode(e.spanElement))}}>${html([utilVars?.downloadIcon])}Download</button>
`}function ToggleEditableButton(e){return html`
    <button 
        style=${utilVars?.buttonStyle} 
        class="flex ml-auto gap-2"
        onClick=${function(){toggleEditable(e)}}>${html([utilVars?.editIcon])}Edit</button>
`}function moveToolWindow(e){var t=document.getElementById("toolWindow");if(t){var n=document.querySelector("main > .flex-1.overflow-hidden");if(n){var o=n.querySelectorAll(".group.w-full");let e;0<o.length?e=o[o.length-1]:1===o.length&&(e=o[0]),e&&e.previousElementSibling!==t?e.parentNode.insertBefore(t,e):e||n.lastChild===t||n.appendChild(t)}}else addToolWindow(e,render,html)}function addToolWindow(e){var t,n,o;!document.getElementById("toolWindow")&&(t=document.createElement("div"),render(html`<${e} />`,t),e=document.querySelector("main > .flex-1.overflow-hidden"))&&(0<(n=e.querySelectorAll(".group.w-full")).length?(o=n[n.length-1]).parentNode.insertBefore(t,o):1===n.length?(o=n[0]).parentNode.insertBefore(t,o):e.appendChild(t))}function insertTextInPrompt(e){document.getElementById("prompt-textarea").value+=e}function sendText(e){insertTextInPrompt(e),pressSend()}function pressSend(){var e=document.getElementById("prompt-textarea").nextElementSibling;e&&"BUTTON"===e.tagName&&(e.disabled=!1,e.click())}function replaceWithToolBar(e){var t=document.createElement("div"),e=(render(html`<${e} />`,t),document.querySelector(".absolute.bottom-0"));e&&0<(e=e.querySelectorAll("div.text-center")).length&&((e=e[e.length-1]).innerHTML="",e.appendChild(t))}function removeElementsByClass(e,t,n){if(t)return"";for(var o=document.getElementsByClassName(e);0<o.length;)o[0].parentNode.removeChild(o[0]);for(var l=document.querySelectorAll("[gpt-enhancer-modified]"),r=0;r<l.length;r++)l[r].removeAttribute("gpt-enhancer-modified");n(!0)}function toggleEditable(e){var t=e.spanElement.parentElement.parentElement.querySelector("code");t.hasAttribute("contentEditable")?"true"==t.getAttribute("contentEditable")?t.setAttribute("contentEditable","false"):t.setAttribute("contentEditable","true"):(e=getCleanCode(e.spanElement),t.setAttribute("contentEditable","true"),t.setAttribute("innerHtml",e))}function addObserver(r){var e=new MutationObserver(function(e,t){t.disconnect();for(var n of e)if("childList"===n.type&&0<n.addedNodes.length)for(var o=0;o<n.addedNodes.length;o++)if(n.addedNodes[o].nodeType===Node.ELEMENT_NODE&&n.addedNodes[o].classList.contains("group")&&n.addedNodes[o].classList.contains("w-full")||n.target instanceof HTMLTitleElement){for(var l=0;l<r.length;l++)r[l]();break}t.observe(document,{attributes:!1,childList:!0,subtree:!0})});return e.observe(document,{attributes:!1,childList:!0,subtree:!0}),function(){e.disconnect()}}function Button(e,t){return html`
        <button style="${utilVars.buttonStyle}" onclick=${t}>
            ${e}
        </button>
    `}function Checkbox({id:e,checked:t=!1}){return html`
        <input type="checkbox" id="${e}" style="${utilVars.checkboxStyle}" ${t?"checked":""} />
    `}function Dropdown({id:e,options:t=[]}){return html`
        <select id="${e}" style="${utilVars.dropdownStyle}">
            ${t.map(e=>html`<option value="${e}">${e}</option>`)}
        </select>
    `}console.log("UTILS : 1685709578736");var utilVars={buttonStyle:{margin:"0 5px"},downloadIcon:'<svg stroke="currentColor" fill="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 15l-8-8h16l-8 8z"/></svg>',runIcon:'<svg stroke="currentColor" fill="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 16 12 8 19 8 5"/></svg>',editIcon:'<svg fill="currentColor" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>',textareaStyle:{},dropdownStyle:{boxShadow:"initial",WebkitAppearance:"initial",appearance:"initial",backgroundColor:"initial",borderColor:"initial",borderRadius:"initial",borderWidth:"initial",fontSize:"initial",lineHeight:"initial",padding:"initial",border:"none"},checkboxStyle:{},inputBoxStyle:{},abilityStyle:{float:"left",margin:"0 10px"},overlayStyle:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgb(241,231,211)",zIndex:"9999",display:"none"},statBlockStyle:{}};