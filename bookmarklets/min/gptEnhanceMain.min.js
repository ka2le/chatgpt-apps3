javascript:(function() {!function(){function e(e,t,n){var o=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.onerror=function(){var e;t&&((e=document.createElement("script")).type="text/javascript",e.src=t,e.onreadystatechange=n,e.onload=n,o.appendChild(e))},r.src=e,r.onreadystatechange=n,r.onload=n,o.appendChild(r)}console.log("gptEnchanceMain 1.20");var t="http://localhost:3000/chatgpt-apps3/bookmarklets/min/utils.min.js?"+(new Date).getTime(),n="https://ka2le.github.io/chatgpt-apps3/bookmarklets/min/utils.min.js?"+(new Date).getTime();e("https://unpkg.com/preact@latest/dist/preact.umd.js",null,function(){e("https://unpkg.com/htm@latest/dist/htm.umd.js",null,function(){e("https://unpkg.com/preact@latest/hooks/dist/hooks.umd.js",null,function(){window.h=preact.h,window.render=preact.render,window.html=htm.bind(h),window.useState=preactHooks.useState,window.useEffect=preactHooks.useEffect,e(t,n,function(){function e(){insertTextInPrompt(`
When giving the answer, keep this in mind:
Always do comments in the code like /*COMMENT HERE*/ never do // like //COMMENT HERE  
Never use arrow functions =>`)}function t(){var e=Math.floor(20*Math.random())+1;insertTextInPrompt(`Result: ${e+4} (${e+4} Roll + 1 INT +3 Proficiency)`)}function n(){var e=document.getElementById("codeBox").value;console.log(e),runJs(e)}function o(){return d`
        <div 
            id="toolBar" >
            ${Button("Correction",e)}
            ${Button("RollD20",t)}
            ${Button("RunJS",n)}
            </div>
    `}function r(){return d`
        <div 
            style=${s} 
            id="toolWindow"
            class="group gpt-enhancer w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 dark:bg-gray-800">
            <h2>toolWindow</h2>
            <div></div>
            <textarea id="codeBox"
            class="flex flex-col w-full py-[10px] flex-grow md:py-4 md:pl-4 relative border border-black/10 bg-white dark:border-gray-900/50 dark:text-white dark:bg-gray-700 rounded-xl shadow-xs dark:shadow-xs"
            style=""></textarea>${Button("RunJS",n)}
        </div>
    `}function a(){document.querySelectorAll("button:not([gpt-enhancer-modified])").forEach(function(e){var t;e.innerText.includes("Copy code")&&(e.setAttribute("gpt-enhancer-modified","true"),t=e.innerText.replace("Copy code","Copy"),e.setAttribute("innerHtml",t),t=document.createElement("div"),i(d`<${RunJsButton} spanElement=${e}/>`,t),addElement(e.parentElement,t,e.nextSibling),t=document.createElement("div"),i(d`<${DownloadSVGButton} spanElement=${e}/>`,t),addElement(e.parentElement,t,e.nextSibling),t=document.createElement("div"),i(d`<${ToggleEditableButton} spanElement=${e}/>`,t),addElement(e.parentElement,t,e.nextSibling))})}var i,d,l,c,s;window.h,i=window.render,d=window.html,l=window.useState,c=window.useEffect,s={minHeight:"100px"},RunTheApp(function(){const[e,t]=l(!1);return c(function(){removeElementsByClass("gpt-enhancer",e,t),a(),addToolWindow(r,i,d),replaceWithToolBar(o,i,d),addObserver([function(){a()},function(){moveToolWindow(r,i,d)},function(){replaceWithToolBar(o,i,d)}]),addStyling()},[e]),d``},i,d)})})})})}();})();