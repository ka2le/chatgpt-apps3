!function(){function t(t,e,n){var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.onerror=function(){var t;e&&(console.log("Fallback2"),(t=document.createElement("script")).type="text/javascript",t.src=e,t.onreadystatechange=n,t.onload=n,o.appendChild(t))},a.src=t,a.onreadystatechange=n,a.onload=n,o.appendChild(a)}console.log("gptEnchanceMain 1.9");var e="http://localhost:3000/chatgpt-apps3/bookmarklets/min/utils.min.js?"+(new Date).getTime(),n="https://ka2le.github.io/chatgpt-apps3/bookmarklets/min/utils.min.js?"+(new Date).getTime();t("https://unpkg.com/preact@latest/dist/preact.umd.js",null,function(){console.log("Preact has been loaded!"),t("https://unpkg.com/htm@latest/dist/htm.umd.js",null,function(){console.log("HTM has been loaded!"),t("https://unpkg.com/preact@latest/hooks/dist/hooks.umd.js",null,function(){window.h=preact.h,window.render=preact.render,window.html=htm.bind(h),window.useState=preactHooks.useState,window.useEffect=preactHooks.useEffect,t(e,n,function(){function t(){insertTextInPrompt(`
When giving the answer, keep this in mind:
Always do comments in the code like /*COMMENT HERE*/ never do // like //COMMENT HERE  
Never use arrow functions =>`)}function e(){var t=Math.floor(20*Math.random())+1;insertTextInPrompt(`Result: ${t+4} (${t+4} Roll + 1 INT +3 Proficiency)`)}function n(){var t=document.getElementById("codeBox").value;console.log(t),runJs(t)}function o(){return i`
        <div 
            id="toolBar" >
            ${Button("Correction",t)}
            ${Button("RollD20",e)}
            ${Button("RunJS",n)}
            </div>
    `}function a(){return i`
        <div 
            style=${u} 
            id="toolWindow"
            class="group gpt-enhancer w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 dark:bg-gray-800">
            <h2>toolWindow</h2>
            <div></div>
            <textarea id="codeBox"
            class="flex flex-col w-full py-[10px] flex-grow md:py-4 md:pl-4 relative border border-black/10 bg-white dark:border-gray-900/50 dark:text-white dark:bg-gray-700 rounded-xl shadow-xs dark:shadow-xs"
            style=""></textarea>${Button("RunJS",n)}
        </div>
    `}function l(){document.querySelectorAll("button:not([gpt-enhancer-modified])").forEach(function(t){var e;t.innerText.includes("Copy code")&&(t.setAttribute("gpt-enhancer-modified","true"),e=t.innerText.replace("Copy code","Copy"),t.setAttribute("innerHtml",e),e=document.createElement("div"),r(i`<${function(e){return i`
            <button 
                style=${utilVars?.buttonStyle} 
                class="flex ml-auto gap-2"
                onClick=${function(){var t=getCleanCode(e.spanElement);runJs(t)}}>${i([utilVars?.runIcon])}Run</button>
        `}} spanElement=${t}/>`,e),addElement(t.parentElement,e,t.nextSibling),e=document.createElement("div"),r(i`<${function(e){return i`
            <button 
                style=${utilVars?.buttonStyle} 
                class="flex ml-auto gap-2"
                onClick=${function(){var t=getCleanCode(e.spanElement);downloadSVG(t)}}>${i([utilVars?.downloadIcon])}Download</button>
        `}} spanElement=${t}/>`,e),addElement(t.parentElement,e,t.nextSibling),e=document.createElement("div"),r(i`<${function(t){return i`
            <button 
                style=${utilVars?.buttonStyle} 
                class="flex ml-auto gap-2"
                onClick=${function(){toggleEditable(t)}}>${i([utilVars?.editIcon])}Edit</button>
        `}} spanElement=${t}/>`,e),addElement(t.parentElement,e,t.nextSibling))})}var r,i,d,c,u;window.h,r=window.render,i=window.html,d=window.useState,c=window.useEffect,u={minHeight:"100px"},RunTheApp(function(){const[t,e]=d(!1);return c(function(){removeElementsByClass("gpt-enhancer",t,e),l(),addToolWindow(a,r,i),replaceWithToolBar(o,r,i),addObserver([function(){l()},function(){moveToolWindow(a,r,i)},function(){replaceWithToolBar(o,r,i)}]),addStyling()},[t]),i``},r,i)})})})})}();