javascript:(function() {!function(){function e(e,t,n){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.onerror=function(){var e;t&&((e=document.createElement("script")).type="text/javascript",e.src=t,e.onreadystatechange=n,e.onload=n,o.appendChild(e))},i.src=e,i.onreadystatechange=n,i.onload=n,o.appendChild(i)}console.log("gptEnchanceMain 1.22");var t="http://localhost:3000/chatgpt-apps3/bookmarklets/min/utils.min.js?"+(new Date).getTime(),n="https://ka2le.github.io/chatgpt-apps3/bookmarklets/min/utils.min.js?"+(new Date).getTime();e("https://unpkg.com/preact@latest/dist/preact.umd.js",null,function(){e("https://unpkg.com/htm@latest/dist/htm.umd.js",null,function(){e("https://unpkg.com/preact@latest/hooks/dist/hooks.umd.js",null,function(){window.h=preact.h,window.render=preact.render,window.html=htm.bind(h),window.useState=preactHooks.useState,window.useEffect=preactHooks.useEffect,e(t,n,function(){{window.h;var n=window.render,i=window.html,o=window.useState,r=window.useEffect,e={minHeight:"100px"};function a({name:e,scores:t=[]}){return i`
                <div style="${utilVars.abilityStyle}" class="ability">
                    <span>${e}</span>
                    <${function({id:e,checked:t=!1}){return i`
                <input type="checkbox" id="${e}" style="${utilVars.checkboxStyle}" ${t?"checked":""} />
            `}} id="${e}Checkbox" />
                    <${function({id:e,options:t=[]}){return i`
                <select id="${e}" style="${utilVars.dropdownStyle}">
                    ${t.map(e=>i`<option value="${e}">${e}</option>`)}
                </select>
            `}} id="${e}Dropdown" options=${t} />
                </div>
            `}const m=["STR","DEX","CON","INT","WIS","CHA"],h=[-2,-1,0,1,2,3,4,5];function d(){var e,t=i`<${function({abilities:e,style:t="",scores:n=[]}){return i`
                <div style="${t}" class="statBlock">
                    ${e.map(function(e){return i`<${a} name=${e} scores=${n} />`})}
                </div>
            `}} abilities=${m} scores=${h} />`;t=t,e=document.getElementById("toolWindow"),n(t,e)}function t(){insertTextInPrompt(`
When giving the answer, keep this in mind:
Always do comments in the code like /*COMMENT HERE*/ never do // like //COMMENT HERE  
Never use arrow functions =>`)}function l(){var e=Math.floor(20*Math.random())+1;insertTextInPrompt(`Result: ${e+4} (${e+4} Roll + 1 INT +3 Proficiency)`)}function c(){var e=document.getElementById("codeBox").value;console.log(e),runJs(e)}function s(){return i`
        <div 
            id="toolBar" >
            ${Button("Correction",t)}
            ${Button("RollD20",l)}
            ${Button("RunJS",c)}
            </div>
    `}function u(){return i`
                <div 
                    style=${e} 
                    id="toolWindow"
                    class="group gpt-enhancer w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 dark:bg-gray-800">
                    <div><h2>toolWindow</h2></div>
                    <${function({id:e,style:t="",value:n="",class:o=""}){return i`
                <textarea id="${e}" style="${t}" class="${o}">
                    ${n}
                </textarea>
            `}}
                        id="codeBox"
                        class="flex flex-col w-full py-[10px] flex-grow md:py-4 md:pl-4 relative border border-black/10 bg-white dark:border-gray-900/50 dark:text-white dark:bg-gray-700 rounded-xl shadow-xs dark:shadow-xs"
                        style=""
                    />${Button("RunJS",c)}
                </div>
            `}function p(){document.querySelectorAll("button:not([gpt-enhancer-modified])").forEach(function(e){var t;e.innerText.includes("Copy code")&&(e.setAttribute("gpt-enhancer-modified","true"),t=e.innerText.replace("Copy code","Copy"),e.setAttribute("innerHtml",t),t=document.createElement("div"),n(i`<${RunJsButton} spanElement=${e}/>`,t),addElement(e.parentElement,t,e.nextSibling),t=document.createElement("div"),n(i`<${DownloadSVGButton} spanElement=${e}/>`,t),addElement(e.parentElement,t,e.nextSibling),t=document.createElement("div"),n(i`<${ToggleEditableButton} spanElement=${e}/>`,t),addElement(e.parentElement,t,e.nextSibling))})}RunTheApp(function(){const[e,t]=o(!1);return r(function(){removeElementsByClass("gpt-enhancer",e,t),p(),addToolWindow(u,n,i),replaceWithToolBar(s,n,i),d(),addObserver([function(){p()},function(){moveToolWindow(u,n,i)},function(){replaceWithToolBar(s,n,i)}]),addStyling()},[e]),i``})}})})})})}();})();